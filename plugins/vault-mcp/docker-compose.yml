services:
  vault-mcp:
    build: .
    volumes:
      - ${VAULT_ROOT}:/vault:rw
    environment:
      - VAULT_ROOT=/vault
      - EXCLUDE_DIRS=${EXCLUDE_DIRS:-.git,.obsidian,node_modules,.trash}
      - API_ENABLED=${API_ENABLED:-true}
      - API_PORT=${API_PORT:-9400}
    ports:
      - "${API_PORT:-9400}:9400"
    stdin_open: true
    tty: false
